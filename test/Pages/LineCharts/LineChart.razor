@page "/LineChart"


<h3>Line Chart</h3>
<button class="btn btn-primary" @onclick="DatasetAdd">Add Dataset</button>
<button class="btn btn-primary" @onclick="AddData">Add Data</button>
<ChartJsZO ChartConfig=@_configChart DataChart=@_dataChart  ></ChartJsZO>

@code {

    DataChart _dataChart;
    ConfigChart _configChart;

    void DatasetAdd()
    {
        _dataChart.Datasets.Add(new Dataset
            {
                Data = new DataTest().DataForMonth,
                Label = "Test chart One",
                RandomColor = true,


            });
    }

    void AddData()
    {

        var set = _dataChart.Datasets[0];
        if (_dataChart == null) return;
        var rnd = (new Random().Next(0,500)).ToString();
        set.Data.Add(rnd);
        if(_dataChart.Labels.Count() <= set.Data.Count())
        {
            _dataChart.Labels.Add(rnd);
        }
    }

    protected override void OnAfterRender(bool firstRender)
    {
        if (!firstRender) return;
        _configChart = new ConfigChart
            {
                Type =TypChart.line,
                Options = new Options
                {
                    Responsive = true,
                }
            };

            List<Dataset> data = new List<Dataset>();
           data.Add(new Dataset
            {
                Data = new DataTest().DataForMonth,
                Label = "Test chart One",
                RandomColor = true,


            });
           data.Add(new Dataset
            {
                Data = new DataTest().DataForMonth,
                                        Label = "Test chart Tow",
                                        BorderColor = new[] { ColorChartZo.red() } ,
                                        BackgroundColor =new[] { ColorChartZo.blue(1) },
                                        BorderWidth =2


            });
        _dataChart = new DataChart
        {
            Labels =new DataTest().LabelMonth,
            Datasets = data
            
        };

        
         
           
           
       
   
        StateHasChanged();
    }

}
